<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="theme-color" content="#ffffff"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="author" content="Marx J. Moura"><meta name="description" content="Let&#x27;s create our first .NET Core project using CLI and understand the initial file structure."><meta property="og:title" content="First .NET Core project using CLI"><meta property="og:image" content="https://fullstack.app/posts/2019/09/03/cover.png"><meta property="og:description" content="Let&#x27;s create our first .NET Core project using CLI and understand the initial file structure."><meta property="og:url" content="https://fullstack.app/posts/2019/09/03/first-netcore-project-using-cli.html"><title>First .NET Core project using CLI</title><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Serif+Pro:400,700&display=swap"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css" integrity="sha256-UzFD2WYH2U1dQpKDjjZK72VtPeWP50NoJjd26rnAdUI=" crossorigin="anonymous"><link rel="stylesheet" href="/blog.min.css?v=1.2.0"></head><body><div class="container"><div class="text-right mb-3"><div class="dropdown"><button type="button" class="btn btn-sm dropdown-toggle" data-toggle="dropdown">EN</button><div class="dropdown-menu"><a href="/br/posts/2019/09/03/primeiro-projeto-netcore-usando-cli.html" class="dropdown-item">BR</a></div></div></div><div class="header"><h1><a href="/">Full-Stack Applications</a></h1><div class="techs"><svg><use href="/images/techs.svg#netcore"/></svg> <svg><use href="/images/techs.svg#vue"/></svg> <svg><use href="/images/techs.svg#postgresql"/></svg> <svg><use href="/images/techs.svg#rabbitmq"/></svg> <svg><use href="/images/techs.svg#nginx"/></svg> <svg><use href="/images/techs.svg#ubuntu"/></svg> <svg><use href="/images/techs.svg#aws"/></svg> <svg><use href="/images/techs.svg#github"/></svg> <svg><use href="/images/techs.svg#circleci"/></svg></div></div><form method="get" action="https://www.google.com/search" class="google-search"><input type="hidden" name="sitesearch" value="fullstack.app"> <input type="text" name="q" class="form-control form-control-sm" placeholder="Google"></form><small>03 September 2019</small><h1>First .NET Core project using CLI</h1><figure><img src="/posts/2019/09/03/cover.png" alt="ASP.NET Core project"></figure><p>Let's create our first .NET Core project using <a href="https://docs.microsoft.com/en-us/dotnet/core/tools/">CLI</a> and understand the initial file structure.</p><p>In this post I'm assuming that you already know <a href="/posts/2019/08/30/get-started-with-netcore.html">how to set up your development environment</a> and already installed all we need to create our first project and continue our training.</p><p>The following command will create an empty project into the <code>products-api</code> directory. It is noteworthy to mention that you can also create projects using <a href="https://docs.microsoft.com/en-us/dotnet/core/tools/dotnet-new#template-options">predefined templates</a>.</p><p><pre><code>dotnet new web -o products-api</code></pre></p><p>Now, let's open the project with VS Code.</p><p><pre><code>code products-api</code></pre></p><p>The project directory must contain these files:</p><ul><li><b>*.csproj</b>: Project configuration file.</li><li><b>appsettings.json</b>: Configuration file for the packages (libraries or frameworks) added to the project.</li><li><b>appsettings.Development.json</b>: Overwrites the <code>appsettings.json</code> file when the project runs in the development environment.</li><li><b>Startup.cs</b>: Class used to define which and how the services of the packages added to the project will be used.</li><li><b>Program.cs</b>: Class used by <code>dotnet</code> tool to start the project.</li></ul><p></p><p>I'll introduce you these files, but we will naturally deepen during the training. You may notice the <code>bin</code> and <code>obj</code> folders. These folders are the location where the binaries go after compiling the project source code.</p><h2 id="csproj">*.csproj <a href="#csproj"></a></h2><p>The project configuration is maintained in this <a href="https://www.w3.org/XML/">XML</a> format file. Through this file we can add or remove <a href="https://www.nuget.org">NuGet</a> packages, include or exclude files on publish, set .NET Core version, change the default namespace of the classes, and so on.</p><p>Let's change the namespace in the <code>RootNamespace</code> element to follow the <a href="https://docs.microsoft.com/en-us/dotnet/standard/design-guidelines/names-of-namespaces">naming conventions</a> for namespaces (<code>UpperCamelCase</code>). Following the naming convention improves the reading of the source code by other people on the team, making it easier to identify what represents a certain part of the code (attribute, property, constant, etc), among other benefits.</p><p>After doing that your <code>products-api.csproj</code> file should look like this:</p><p><pre><core>&lt;Project Sdk&#x3D;&quot;Microsoft.NET.Sdk.Web&quot;&gt;
  &lt;PropertyGroup&gt;
    &lt;TargetFramework&gt;netcoreapp2.2&lt;/TargetFramework&gt;
    &lt;AspNetCoreHostingModel&gt;InProcess&lt;/AspNetCoreHostingModel&gt;
    &lt;RootNamespace&gt;ProductsApi&lt;/RootNamespace&gt;
  &lt;/PropertyGroup&gt;
  &lt;ItemGroup&gt;
    &lt;PackageReference Include&#x3D;&quot;Microsoft.AspNetCore.App&quot; /&gt;
    &lt;PackageReference Include&#x3D;&quot;Microsoft.AspNetCore.Razor.Design&quot; Version&#x3D;&quot;2.2.0&quot; PrivateAssets&#x3D;&quot;All&quot; /&gt;
  &lt;/ItemGroup&gt;
&lt;/Project&gt;
</core></pre></p><h2 id="appsettings">appsettings.json <a href="#appsettings"></a></h2><p>In this <a href="https://www.json.org">JSON</a> format file we maintain the packages configuration when needed. You can have a file that contains the common settings for all environments and create a specific file for each environment: development, staging, production.</p><p>Your <code>appsettings.json</code> file should look like this:</p><p><pre><core>{
  &quot;Logging&quot;: {
    &quot;LogLevel&quot;: {
      &quot;Default&quot;: &quot;Warning&quot;
    }
  },
  &quot;AllowedHosts&quot;: &quot;*&quot;
}
</core></pre></p><h2 id="program">Program.cs <a href="#program"></a></h2><p>Our project is actually a console project. It will be initiated by the .NET Core by invoking the static method <code>Main()</code>.</p><p>We will remove the unnecessary <code>using</code> directives and update the namespace. Remove the unnecessary directives is one more step to keep our code clean. Your <code>Program.cs</code> should look like this:</p><p><pre><core>﻿using Microsoft.AspNetCore;
using Microsoft.AspNetCore.Hosting;

namespace ProductsApi
{
    public class Program
    {
        public static void Main(string[] args)
        {
            CreateWebHostBuilder(args).Build().Run();
        }

        public static IWebHostBuilder CreateWebHostBuilder(string[] args) &#x3D;&gt;
            WebHost.CreateDefaultBuilder(args)
                .UseStartup&lt;Startup&gt;();
    }
}
</core></pre></p><h2 id="startup">Startup.cs <a href="#startup"></a></h2><p>We will use this class to configure the services and dependencies used by other classes in the project through the dependency injection (DI) design pattern. You will see these two methods which basically mean:</p><ul><li><b>ConfigureServices</b>: Add services to the IoC container. The service configuration can be read from <code>appsettings.json</code> file.</li><li><b>Configure</b>: Use one or more configured services as a middleware into the request pipeline to process the response.</li></ul><p></p><p>You can read the Microsoft documentation to know more details about the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/startup/">Startup class</a>, <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection/">dependency injection</a> and <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/middleware/">middlewares</a>.</p><p>We will remove the unnecessary <code>using</code> directives and update the namespace. Your <code>Startup.cs</code> should look like this:</p><p><pre><core>﻿using Microsoft.AspNetCore.Builder;
using Microsoft.AspNetCore.Hosting;
using Microsoft.AspNetCore.Http;
using Microsoft.Extensions.DependencyInjection;

namespace products_api
{
    public class Startup
    {
        public void ConfigureServices(IServiceCollection services)
        {
        }

        public void Configure(IApplicationBuilder app, IHostingEnvironment env)
        {
            if (env.IsDevelopment())
            {
                app.UseDeveloperExceptionPage();
            }

            app.Run(async (context) &#x3D;&gt;
            {
                await context.Response.WriteAsync(&quot;Hello World!&quot;);
            });
        }
    }
}
</core></pre></p><p>Run the project by pressing F5 in VS Code. Now, open your browser and access <code>http://localhost:5000</code> (default port of the ASP.NET Core applications). You should see the text <code>Hello World!</code>.</p><p>It is also possible run the project directly from CLI, but in this way we will not be able to debug with VS Code. From the root project directory (where is the <code>csproj</code> file) run the following command:</p><p><pre><code>dotnet run</code></pre></p><p>In the next post we'll start talking about RESTful API, MVC pattern and create our first endpoint that will respond in JSON format.</p><div class="author"><img src="/images/marxjmoura.jpg" alt="marxjmoura"><div><p class="mb-3">I'm Marx J. Moura. In this blog I write about microservice architecture and web application development.</p><p><a href="https://github.com/marxjmoura/" class="p-1"><i class="fab fa-lg fa-github"></i> </a><a href="https://www.linkedin.com/in/marxjmoura/" class="p-1"><i class="fab fa-lg fa-linkedin"></i></a></p></div></div><div id="disqus_thread"></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/js/all.min.js" integrity="sha256-xzrHBImM2jn9oDLORlHS1/0ekn1VyypEkV1ALvUx8lU=" crossorigin="anonymous"></script><script src="/blog.min.js?v=1.2.0"></script><script>var disqus_config = function () {
      this.page.url = 'https://fullstack.app/posts/2019/09/03/first-netcore-project-using-cli.html';
      this.page.identifier = '2019/09/03/first-netcore-project-using-cli';
    };
    (function() {
      var d = document, s = d.createElement('script');
      s.src = 'https://fullstack-app.disqus.com/embed.js';
      s.setAttribute('data-timestamp', + new Date());
      (d.head || d.body).appendChild(s);
    })();</script></body></html>